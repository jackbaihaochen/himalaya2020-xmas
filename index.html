<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
    <!-- twitter -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@himalaya" />
    <meta name="twitter:title" content="himalayaサンタのX'mas" />
    <meta
      name="twitter:description"
      content="当ページでご紹介した50名に、特別なプレゼントを贈呈します。"
    />
    <!-- image need resize -->
    <meta
      name="twitter:image"
      content="https://pub.kikihodai.com/event/2020xmas-test/assets/img/19.png"
    />
    <!-- css -->
    <link rel="stylesheet" href="./assets/css/bootstrap.min.css" />
    <link rel="stylesheet" href="./assets/css/fullpage.css" />
    <link rel="stylesheet" href="./assets/css/f1cd4.css" />
    <link rel="stylesheet" href="./assets/css/default.css" />
    <!-- js -->
    <script src="./assets/js/fullpage.js"></script>
    <script
      src="https://code.jquery.com/jquery-3.5.1.min.js"
      integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
      crossorigin="anonymous"
    ></script>
    <title>himalayaサンタのX'mas</title>
  </head>
  <body>
    <!-- navi bar -->
    <nav class="navbar navbar-expand-lg navbar-light navi" id="navi">
      <a class="navbar-brand" href="https://www.himalaya.com/jp" target="_blank"
        ><i class="cat-icon cat-icon-Himalaya logo _uPU"></i
      ></a>
      <button
        class="navbar-toggler"
        type="button"
        data-toggle="collapse"
        data-target="#navbarNavDropdown"
        aria-controls="navbarNavDropdown"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
      <div
        class="collapse navbar-collapse row justify-content-between"
        id="navbarNavDropdown"
      >
        <div class="col-10">
          <ul class="navbar-nav">
            <li class="nav-item active">
              <a
                class="nav-link"
                href="javascript:void(0);"
                onclick="rollingBackToTop(1);"
                >トップ <span class="sr-only">(current)</span></a
              >
            </li>
            <li class="nav-item">
              <a
                class="nav-link"
                href="javascript:void(0);"
                onclick="rollingBackToTop(2);"
                >感謝の気持ち</a
              >
            </li>
            <li class="nav-item">
              <a
                class="nav-link"
                href="javascript:void(0);"
                onclick="rollingBackToTop(3);"
                >受賞者</a
              >
            </li>
            <li class="nav-item">
              <a
                class="nav-link"
                href="javascript:void(0);"
                onclick="rollingBackToTop(4);"
                >プレゼント</a
              >
            </li>
            <li class="nav-item">
              <a
                class="nav-link"
                href="javascript:void(0);"
                onclick="rollingBackToTop(5);"
                >全部のキャスターたち</a
              >
            </li>
          </ul>
        </div>
        <div class="col-2">
          <a
            class="twitter-share-button"
            href="https://twitter.com/intent/tweet?button_hashtag=himalaya&text=himalaya%20Christmas"
            data-size="large"
          >
            Tweet</a
          >
        </div>

        <script
          async
          src="https://platform.twitter.com/widgets.js"
          charset="utf-8"
        ></script>
      </div>
    </nav>

    <div id="fullpage">
      <!-- section-1 header-->
      <div class="section" data-anchor="page1" id="p1-background">
        <div class="container p1-container">
          <img src="./assets/img/sp-head.jpg" class="sp-head" alt="" />
        </div>
      </div>
      <!-- section-2 welcome-->
      <div class="section" data-anchor="page2">
        <div class="container" id="p2-text-background">
          <div class="row justify-content-center" id="p2-text">
            <p class="col-12 pb-4 p2-content">
              <span style="color: red">himalaya</span
              >キャスターのみなさん、今日も音声配信おつかされまです。
            </p>
            <p class="col-12 pb-4 p2-content">
              新型コロナウイルスで世界が一変した2020年もまもなく終わります。
              今年は、himalaya含め音声配信の分野にとっては、
              まさに“大ブレイク前夜”的な1年となりました。
            </p>
            <p class="col-12 pb-4 p2-content">
              その支えとなったのが、キャスターのみなさんの存在です。
            </p>
            <p class="col-12 pb-4 p2-content">
              そこで、みなさんの1年間の活動に敬意を表し、<br />
              「今年<span style="color: red">himalaya</span
              >に爪痕を残した50名のキャスター」を<br />
              勝手に選出して勝手に感謝の気持ちをお伝えすることにしました。
            </p>
            <p class="col-12 pb-4 p2-content">
              あらためて、1年間ありがとうございました。<br />2021年も、<span
                style="color: red"
                >himalaya</span
              >をどうぞよろしくお願いいたします。
            </p>
          </div>
        </div>
      </div>
      <!-- section-3 casters-->
      <div class="section" data-anchor="page3" id="p3-cover">
        <div class="container">
          <img src="./assets/img/11.png" alt="p3-header" id="p3-header" />
        </div>
        <div class="container" id="caster-list">
          <p class="department-title">部門A</p>
          <div class="row">
            <div class="col-6">
              <div class="caster-header">
                <a
                  href="https://www.himalaya.com/jp-ghost-storyline-rakugo-podcasts/2020-2521720"
                  ><img
                    src="https://cdn.himalaya.com/0d99eaa3250846f3b8a1d96babc46b94.jpg?x-oss-process=image/resize,w_600,h_600&auth_key=4102416000-1234-0-6f727af1626c797a826c7da736ed6a40"
                    alt="test"
                    class="caster-img"
                /></a>
              </div>
              <div class="caster-name">
                <label for="test"><span>キャスター名</span></label>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- section-4 presents-->
      <div class="section" data-anchor="page4">
        <div class="container text-center">
          <img src="./assets/img/10.png" alt="p4-header" id="p4-header" />
        </div>
        <div class="container" id="p4-text-background">
          <div class="row justify-content-center mb-3">
            <img src="./assets/img/temporary.png" alt="p4-content-head" />
          </div>
          <div class="row justify-content-center mb-5" id="p4-text">
            <p class="col-11 pb-1 p4-summary">
              当ページでご紹介した50名に、特別なプレゼントを贈呈します。<br />のちほど、個別にお送りするスペシャル感謝メールに記載の専用応募フォームから、ご申請ください。<br />
              プレゼントは、Aグループから1つ、Bグループから1つ、計2つお選びいただけます。
            </p>
          </div>
          <div class="row" id="p4-cover">
            <div class="col p4-item" id="p4-group-a">
              <p>Group A</p>
              <br />
              <ul>
                <li>すき焼き用A5ランク黒毛和牛</li>
                <li>ズワイガニむき身セット</li>
                <li>天然松茸セット</li>
                <li>高級フルーツ詰め合わせ</li>
              </ul>
            </div>
            <div class="col p4-item" id="p4-group-b">
              <p>Group B</p>
              <br />
              <ul>
                <li>ビール24缶セット</li>
                <li>日本酒飲み比べセット</li>
                <li>100%フルーツジュース詰め合わせ</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <!-- section-5 all other ugcs-->
      <div class="section" data-anchor="page5" id="page5_all_ugc">
        <div class="container">
          <img src="./assets/img/9.png" alt="p5-header" id="p5-header" />
        </div>
        <div class="container" id="all_ugc_container">
          <div class="container" id="all_ugc"></div>
        </div>
      </div>
      <!-- section-9 -->
      <div class="section fp-auto-height" data-anchor="page9">
        <footer id="footer">
          <div class="container-fluid" style="width: 90%">
            <div class="row">
              <div
                class="col-md-3 col-md-pull-9 copy-rights footer-vertical-center"
              >
                2020 © Copyrights himalaya.Inc.
              </div>
              <div class="col-md-6 footer-vertical-center">
                <nav
                  class="text-center"
                  id="footer-navigation"
                  role="navigation"
                >
                  <ul>
                    <li>
                      <a href="https://jp.himalaya.com/company/">会社概要</a>
                    </li>
                      <a href="https://jp.himalaya.com/contact/"
                        >お問い合わせ</a
                      >
                    </li>
                  </ul>
                </nav>
                <!-- <ul>
                  <li>
                    <a href="https://jp.himalaya.com/company/" target="_blank"
                      >会社概要</a
                    >
                  </li>
                  <li>
                    <a href="https://jp.himalaya.com/legal/" target="_blank"
                      >特定商取引法に基づく表示</a
                    >
                  </li>
                </ul> -->
              </div>
              <div class="col-md-2 col-md-push-9 footer-vertical-center">
                <a href="https://twitter.com/himalaya_jp" target="_blank"
                  ><img
                    src="./assets/img/twitter_hover_pc.png"
                    alt="twitter"
                    width="70%"
                /></a>
                <a href="https://www.instagram.com/himalaya_jp/" target="_blank"
                  ><img src="./assets/img/INS.png" alt="instagram" width="70%"
                /></a>
              </div>
            </div>
          </div>
        </footer>
      </div>
    </div>

    <script>
      //滑屏效果
      new fullpage("#fullpage", {
        // menu
        anchors: ["page1", "page2", "page3", "page4", "page5", "page6"],
        autoScrolling: true,
        scrollBar: true,
        verticalCentered: true,
        paddingTop: "60px",

        // stop auto scroll when encountering long pages
        afterLoad: function (origin, destination, direction) {
          var loadedSection = this;

          //stops when entering page3 from page2
          if (origin.anchor == "page1" && direction == "down") {
            fullpage_api.setAutoScrolling(false);
            fullpage_api.destroy();
          }
        },
      });
    </script>

    <script>
      function rollingBackToTop(page_num) {
        $("html,body").animate(
          { scrollTop: $(`[data-anchor='page${page_num}']`).offset().top },
          "slow"
        );
        $("[class='nav-item active']").attr("class", "nav-item");
        $(`[onclick='rollingBackToTop(${page_num});']`)
          .parent()
          .attr("class", "nav-item active");
      }

      // 这部分直接原生Html写就行；回头把代码复制过去也可以
      async function autoCreateAwardList(parent_element) {
        var promise = await fetch("./assets/data/xmas-selected-ugc-test.csv");
        var data = await promise.text();
        var result = data.trim();
        var arr = result.split("\n").slice(1);
        var str = ``;
        var department_title = "";
        for (let i = 0; i < arr.length; i++) {
          var caster_info = arr[i].split(",");
          var temp_department_title = caster_info[0];
          if (temp_department_title != department_title) {
            if (department_title == "") {
              department_title = temp_department_title;
              str =
                str +
                `<p class="department-title">${department_title}</p><div class="row">`;
            } else {
              department_title = temp_department_title;
              str =
                str +
                `</div><p class="department-title">${department_title}</p><div class="row">`;
            }
          }
          var aid = caster_info[1];
          var title = caster_info[2];
          var pic_url =
            caster_info[5].slice(1) +
            "," +
            caster_info[6] +
            "," +
            caster_info[7];
          str =
            str +
            `
                <div class="col-4 col-sm-3">
                  <div class="caster-header">
                    <a 
                      href="https://www.himalaya.com/jp-ghost-storyline-rakugo-podcasts/${aid}" target="_blank"
                      ><img
                        src="${pic_url}"
                        alt="test"
                        class="caster-img"
                    /></a>
                  </div>
                  <div class="caster-name">
                    <label for="test"><span>${title}</span></label>
                  </div>
                </div>
              `;
        }
        str = str + "</div>";
        parent_element.innerHTML = str;
      }

      async function rollingUGCDisplay(parent_element) {
        var promise = await fetch(
          "./assets/data/himalaya-all-ugc-list-test.csv"
        );
        var data = await promise.text();
        var result = data.trim();
        var arr = result.split("\n").slice(1);
        var str = `<ul id="con1" class="all-creator-roll">`;
        for (let i = 0; i < arr.length; i++) {
          var ugc_info = arr[i].split(",");
          var title = ugc_info[1];
          var aid = ugc_info[0];
          str =
            str +
            `<li><a class="list-creator" href="https://www.himalaya.com/jp-ghost-storyline-rakugo-podcasts/${aid}" target="_blank">${title}</a></li>`;
        }
        str = str + `</ul>`;
        parent_element.innerHTML = str;
        function scrollUp() {
          if (
            parent_element.scrollTop >=
            document.getElementById("con1").offsetHeight
          ) {
            parent_element.scrollTop = 0;
          } else {
            parent_element.scrollTop++;
          }
        }
        var time = 50;
        var mytimer = setInterval(scrollUp, time);
        parent_element.onmouseenter = function () {
          clearInterval(mytimer);
        };
        parent_element.onmouseleave = function () {
          clearInterval(mytimer);
          mytimer = setInterval(scrollUp, time);
        };
      }

      window.onload = async function () {
        var accordion = document.getElementById("accordionExample");
        var pages = document.getElementsByClassName("section");
        var caster_list = document.getElementById("caster-list");
        var page5 = document.getElementById("page5_all_ugc");
        var all_ugc = document.getElementById("all_ugc");
        var all_ugc_container = document.getElementById("all_ugc_container");
        autoCreateAwardList(caster_list);
        rollingUGCDisplay(all_ugc);
      };
    </script>
  </body>
</html>
